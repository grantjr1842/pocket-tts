{"body":"## Summary\n\nCreate a Visual Studio Code extension that enables users to export items from the Problems tab to various formats (JSON, CSV, XML, etc.). This extension would provide developers with an easy way to analyze, report, or integrate problem diagnostics into their workflow.\n\n## Problem Statement\n\nThe VS Code Problems panel shows diagnostics from multiple sources (linters, compilers, type checkers, etc.), but there's no built-in way to export this data for:\n- Reporting bugs to issue trackers\n- Generating quality assurance reports\n- Integrating with external tools\n- Long-term tracking of code quality metrics\n\n## Acceptance Criteria\n\n- [ ] Extension displays a command in the Command Palette to export Problems\n- [ ] User can choose export format (JSON, CSV, XML, plain text)\n- [ ] Export includes all problem details: message, source, severity, file path, line/column numbers\n- [ ] User can optionally filter by problem source (e.g., only TypeScript errors, only Rust compiler warnings)\n- [ ] User can optionally filter by severity level (error, warning, info)\n- [ ] Export destination can be chosen (save to file, copy to clipboard)\n- [ ] Extension handles empty Problems panel gracefully\n- [ ] Works with multi-root workspaces\n- [ ] Extension is published to VS Code Marketplace\n\n## Implementation Approach\n\n### Core Components\n\n1. **Extension Activation**: Activate on command invocation and when Problems panel is visible\n2. **Problems Collection**: Use VS Code API to collect diagnostics from `vscode.languages.getDiagnostics()`\n3. **Export Logic**: \n   - Format conversion (JSON, CSV, XML)\n   - Filtering options (source, severity, file patterns)\n   - Path resolution and normalization\n4. **User Interface**:\n   - QuickPick for format selection\n   - Input boxes for filters\n   - File picker for save location\n5. **Configuration**: Support workspace settings for default export format and location\n\n### Technical Specifications\n\n- **Language**: TypeScript\n- **VS Code API**: Use diagnostic APIs, command registration, file system API\n- **Dependencies**: Minimal (JSON2CSV for format conversion if needed)\n- **Activation Events**: On command, on startup\n- **Commands**: \n  - `problemsExport.export`: Main export command\n  - `problemsExport.configure`: Configure default settings\n\n### Export Formats\n\n1. **JSON**: Structured data with full metadata\n   ```json\n   [\n     {\n       \\\"file\\\": \\\"/path/to/file.ts\\\",\n       \\\"line\\\": 42,\n       \\\"column\\\": 10,\n       \\\"message\\\": \\\"Type 'string' is not assignable to type 'number'\\\",\n       \\\"severity\\\": \\\"error\\\",\n       \\\"source\\\": \\\"typescript\\\",\n       \\\"code\\\": \\\"TS2322\\\"\n     }\n   ]\n   ```\n\n2. **CSV**: Flat format for spreadsheet analysis\n   - Columns: File, Line, Column, Severity, Source, Message, Code\n\n3. **XML**: Hierarchical format for legacy tool integration\n   - Structured with proper nesting of file/problem elements\n\n4. **Plain Text**: Human-readable summary\n   - Formatted like: `file:line:column: [severity] message (source)`\n\n### Filtering Options\n\n- **By Source**: Checkboxes for each diagnostic source (TypeScript, Rust, Python, etc.)\n- **By Severity**: Multi-select for error/warning/info\n- **By File Pattern**: Glob patterns to include/exclude specific files\n- **By Workspace**: For multi-root workspaces, select which workspace to export\n\n## Verification & Testing\n\n### Unit Tests\n- [ ] Format conversion functions (JSON, CSV, XML generators)\n- [ ] Filtering logic (source, severity, file patterns)\n- [ ] Path resolution (relative/absolute paths)\n- [ ] Empty state handling\n\n### Integration Tests\n- [ ] Export with various problem sets (empty, single file, multi-file, multi-source)\n- [ ] Multi-root workspace support\n- [ ] Large problem sets (1000+ diagnostics)\n- [ ] File I/O operations (save, copy to clipboard)\n\n### Manual Testing\n- [ ] Install extension from .vsix\n- [ ] Test all export formats\n- [ ] Test filtering combinations\n- [ ] Test with different problem sources\n- [ ] Test save location options\n- [ ] Performance with large projects\n\n### Test Scenarios\n\n1. **Basic Export**:\n   - Generate 50 problems across 5 files\n   - Export to JSON format\n   - Verify all fields are present and correct\n\n2. **Filtered Export**:\n   - Filter by TypeScript errors only\n   - Verify only TypeScript diagnostics are exported\n\n3. **Multi-root Workspace**:\n   - Create workspace with 2+ folders\n   - Export problems from specific folder\n   - Verify folder filtering works\n\n4. **Empty State**:\n   - Export when Problems panel is empty\n   - Verify graceful handling (empty array or informative message)\n\n## Likely Affected Files\n\nSince this is a new extension, it will create a new directory structure:\n\n```\nvscode-problems-export/\n├── .vscode/\n│   ├── extensions.json\n│   ├── launch.json\n│   └── tasks.json\n├── src/\n│   ├── extension.ts          # Main activation and registration\n│   ├── exporter.ts          # Core export logic\n│   ├── formatters/\n│   │   ├── json.ts          # JSON format\n│   │   ├── csv.ts           # CSV format\n│   │   ├── xml.ts           # XML format\n│   │   └── text.ts          # Plain text format\n│   ├── filters/\n│   │   └── diagnostics.ts   # Filtering logic\n│   └── utils/\n│       └── paths.ts          # Path resolution utilities\n├── package.json             # Extension manifest\n├── tsconfig.json           # TypeScript configuration\n└── README.md               # Extension documentation\n```\n\n## Deliverables\n\n1. **Extension Source Code**: Complete TypeScript source with proper structure\n2. **VSIX Package**: Compiled and packaged for installation\n3. **README**: Installation and usage instructions\n4. **Marketplace Listing**: Publishing configuration and description\n5. **Unit Tests**: Test suite covering all core functionality\n6. **Documentation**: User guide with examples\n\n## Notes\n\n- This is a standalone VS Code extension, not integrated into the pocket-tts repository\n- Should follow VS Code extension best practices and design guidelines\n- Consider adding telemetry (opt-in) for usage analytics if published\n- Future enhancement: Could add visualization of problem trends over time","title":"[VSCode Extension] Export Problems Tab Items"}
